<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Hello, my name is Chris Diana! I am a developer and designer with a passion for innovative technology currently based in Boulder, CO.">
    <title>Getting Started with Slim Framework - Part 2 | Chris Diana</title>

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png">
    <link rel="manifest" href="/assets/img/icons/site.webmanifest">
    <link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- RSS -->
    <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="Chris Diana">

    <!-- OpenGraph -->
    <meta property="og:site_name" content="Chris Diana" />
    <meta property="og:title" content="Getting Started with Slim Framework - Part 2"/>
    <meta property="og:description" content="This is part 2 of the Getting Started with Slim Framework tutorial in which we will build a frontend interface to access our API." />
    <meta property="og:image" content="" />
    <meta property="og:url" content="" >
    <meta property="og:type" content="blog" />
    <meta property="article:published_time" content="2019-02-14">

    <!-- CSS -->
    <link href="//fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i" rel="stylesheet">
    <link href="//stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Adamina|Open+Sans:400,400i,700,700i" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/medium-2.css">
    <link rel="stylesheet" type="text/css" media="print" href="/assets/css/print.css" />
    <link rel="stylesheet" href="/assets/css/prism-base16-monokai.dark.css">
    <link rel="stylesheet" href="/assets/css/blog.css">
  </head>
  <body>
    <div class="mini-banner"></div>

    <div id="navbar" class="navbar">
      <nav class="nav">
        <a id="logo" href="#" class="logo">
          <img src="/assets/img/logo.png"/>
        </a>
        <div id="nav-content" class="nav-content">
          <ul class="nav-list">
            <li><a href="/">Blog</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="#" id="btn-search" class="btn btn--search">
              <i class="sli icon-magnifier"></i></a>
            </li>
          </ul>
        </div>
      </nav>
    </div>

    <div class="search">
      <a href="#" id="btn-search-close" class="btn btn--search-close">
        <i class="sli icon-close"></i>
      </a>
			<form class="search__form" action="">
				<input
          id="search"
          class="search__input"
          name="search"
          type="search"
          placeholder=""
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="false" />
				<span class="search__info">Hit enter to search or ESC to close</span>
			</form>

      <div class="search-suggestions">
        <div class="search__suggestion">
          <ul id="search-suggestion-list" class="search__suggestion__list"></ul>
        </div>
      </div>
      <!--
			<div class="search__related">
				<div class="search__suggestion">
          <h3>May I Suggest?</h3>
          <p>#javascript #react #d3 #php</p>
				</div>
				<div class="search__suggestion">
          <ul id="search-suggestion-list" class="search__suggestion__list"></ul>
				</div>
			</div>
      -->
		</div>

    <!-- MAIN -->
    <main class="content main">
      <article class="post">
  <div class="noarticleimage">

    <div class="post-meta">
      <h1 class="post-title">Getting Started with Slim Framework - Part 2</h1>
      <!--
      <span class="post-date">
        02-14-2019
      </span>
      -->
      <div class="post-meta-text">
        
          <a class="tag tag-slim" href="#">
            slim
          </a>
        
          <a class="tag tag-rest" href="#">
            rest
          </a>
        
          <a class="tag tag-api" href="#">
            api
          </a>
        
      </div>
    </div>
    <section class="post-content">

      <p>This is part 2 of the Getting Started with Slim Framework
tutorial in which we will build a frontend interface to access our API.</p>
<p>In the first part of the tutorial, we focused on building a functional
API that we could create, delete, update and view items...but there was
no interface to allow a user to actually use the application unless running
commands via cURL or through HTTP protocol manually.</p>
<p>In this part of the tutorial, we are going to focus on building the front-end
interface to allow the user to easily use the API (using HTML, Javascript and AJAX).
The beauty of using a RESTful
API is that once an API is build, it can be accessed by any device or language
that can use HTTP protocols...which gives plenty of flexibility for expanding
to new platforms or languages. This means you can use the same API with a Web
Application as an iPhone or Andriod application. You can see how RESTful APIs
have become extremely popular over the recent years.</p>
<p><strong>Note:</strong> When going through this tutorial, make sure to keep your web browser console open to
see all the requests, responses and function calls as I've placed <code>console.log</code>
throughout the project.</p>
<h3>1. Setup directory and files</h3>
<p>First, what we are going to do is setup our basic front-end template in which the data
from the API will eventually load into. We are going to use
<a href="http://getskeleton.com">Skeleton</a> as our CSS framework because it is very light, fast
framework (as opposed to the standard Bootstrap starting point). I like Skeleton
because it has all the basics you need, without the bloat. We are also going to
use <a href="http://zeptojs.com/">Zepto.js</a>. Zepto is just like jQuery (if you use
jQuery, you already know Zepto) but much lighter and faster.</p>
<p>Download the latest versions of Zepto.js and Skeleton CSS. Then create a <code>css</code>
and <code>js</code> folder and place the files in accordingly. After, create a <code>style.css</code>
,<code>index.html</code> and a <code>script.js</code> file. (Note: You should also have a Normalize.css file that
comes with Skeleton). Your file directory should look like this:</p>
<pre><code>- index.html
- css/
- - normalize.css
- - skeleton.css
- - style.css
- js/
- - script.js
- - zepto.min.js
</code></pre>
<h3>2. Add the API</h3>
<p>We need a way to access the API, so for simplicity's sake we are going to just
place it in our current directory. Let's clone it into our root directory and
rename the folder to <code>api</code>:</p>
<pre><code>git clone https://github.com/cdmedia/slim-cars.git
mv slim-cars/ api/
</code></pre>
<h3>3. Setup the template</h3>
<p>Now that we have our structure in place, let's get the front-end HTML template
made. Add this to your <code>index.html</code> file:</p>
<pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Slim Front-end Demo using Skeleton and Zepto.js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>author<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>//fonts.googleapis.com/css?family=Raleway:400,300,600<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css/normalize.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css/skeleton.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css/style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row main<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token comment">&lt;!-- Sidebar --></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>three columns<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>Garage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>car-list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token comment">&lt;!-- Main Content --></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>nine columns<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button button-primary<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnAdd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>New Car<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>carForm<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>detail-view<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>year<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Year<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u-full-width<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>year<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>make<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Make<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u-full-width<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>make<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>year<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Model<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u-full-width<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>model<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnSave<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Save<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btnDelete<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>js/zepto.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>js/script.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></span></code></pre>
<p>Couple things to point out here: We created a sidebar where we will list all of
the cars in our garage in the <code>&lt;ul id=&quot;car-list&quot;&gt;&lt;/ul&gt;</code> element. Next, we have a
<code>&lt;a class=&quot;button button-primary&quot; href=&quot;#&quot; id=&quot;btnAdd&quot;&gt;New Car&lt;/a&gt;</code> button for creating a new car.
Now to the heart of the app: We created a form for adding and updating cars in our garage in the <code>&lt;form id=&quot;carForm&quot;&gt;</code> form element. The
form will populate with the car's info when the car is selected from the sidebar. Note
that we have a hidden form element for <code>id</code>. This will allow our app to tell which car
is currently in the form. Then, to save or delete a car we have the <code>&lt;a class=&quot;button&quot; href=&quot;#&quot; id=&quot;btnSave&quot;&gt;Save&lt;/a&gt;</code>
and <code>&lt;a class=&quot;button&quot; href=&quot;#&quot; id=&quot;btnDelete&quot;&gt;Delete&lt;/a&gt;</code> buttons.</p>
<p>Finally, we'll apply some CSS to clean it up a bit for future steps. Add these
few lines to your <code>css/style.css</code> file:</p>
<pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">.main</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">margin-top</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">.detail-view</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">padding</span><span class="token punctuation">:</span> 20px 25px<span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">margin</span><span class="token punctuation">:</span> 15px 0px<span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">background</span><span class="token punctuation">:</span> #F6F6F6<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">ul#car-list</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">#car-list a</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">#car-list li</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">padding</span><span class="token punctuation">:</span> 10px 0px 10px 5px<span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #eee<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">#car-list li:hover</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">background</span><span class="token punctuation">:</span> #f6f6f6<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token selector">#car-list li:last-child</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token property">border-bottom</span><span class="token punctuation">:</span> 0px solid #eee<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<h3>4. Start working with the API - Get all cars</h3>
<p>Now that we have our template and style set up, we can start pulling data
from our API and get our application working. From here on out, you'll only
be working in your <code>js/script.js</code> file. In that file, we are going to
initialize Zepto.js and setup our root URL for our API. In addition, we will
add a <code>ajaxBeforeSend</code> function which may be useful when debugging AJAX calls.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token function">Zepto</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>$<span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">	<span class="token comment">// Setup the root url for the RESTful services</span></span><br><span class="highlight-line">	<span class="token keyword">var</span> rootURL <span class="token operator">=</span> <span class="token string">'http://localhost/slim-cars/api/'</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line">	<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ajaxBeforeSend'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token comment">// This gets fired for every Ajax request performed on the page.</span></span><br><span class="highlight-line">		<span class="token comment">// The xhr object and $.ajax() options are available for editing.</span></span><br><span class="highlight-line">		<span class="token comment">// Return false to cancel this request.</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>We are going to using AJAX for all our calls to our API. The first thing we need
to do is get a list of all cars in the database. Just below the <code>ajaxBeforeSend</code>
function add this:</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Retrieve car list when application starts</span></span><br><span class="highlight-line"><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token comment">// Get all cars</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		type<span class="token punctuation">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		url<span class="token punctuation">:</span> rootURL <span class="token operator">+</span> <span class="token string">'cars'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		dataType<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Success: '</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">renderList</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		error<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token comment">// Render list of all cars</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">renderList</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#car-list li'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> car<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#car-list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'&lt;li>&lt;a href="#" data-identity="'</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">'">'</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>model <span class="token operator">+</span> <span class="token string">'&lt;/a>&lt;/li>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>First, we are calling the <code>findAll()</code> function as soon as the application loads, this way
we have a list of cars when the user first visits the app. Next part is the actual <code>findAll()</code>
function. We use Zepto's <code>$.ajax</code> function with the 'GET' parameter to hit the URL <code>http://localhost/slim-cars/api/cars</code>.
This URL the returns a JSON object of all the cars in the database. Then, use the <code>renderList()</code> function
to render each of the cars as list items in our <code>#car-list</code> element. Note, we also add the <code>data-identity</code> parameter
using the car's id. This way we know which car to populate the fields with down the line.</p>
<p>You can now test this by visiting your app at <code>http://localhost/slim-cars/</code> and see the list of cars
in your database.</p>
<h3>5. Find a car by ID</h3>
<p>Now we have all the cars, but if we need to get a car by just the ID, we can use our API by calling the ID
after the url like <code>cars/3</code>. Now we are going to create an AJAX call which will get a car by id:</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Get car by id</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'findById:'</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		type<span class="token punctuation">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		url<span class="token punctuation">:</span> rootURL <span class="token operator">+</span> <span class="token string">'cars/'</span> <span class="token operator">+</span> id<span class="token punctuation">,</span></span><br><span class="highlight-line">		dataType<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnDelete'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'findById success: '</span> <span class="token operator">+</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			currentCar <span class="token operator">=</span> data<span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">renderDetails</span><span class="token punctuation">(</span>currentCar<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		error<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Similarly to above, we are using the AJAX with the GET method to get a car... but unlike above,
our <code>findByID()</code> function takes an input parameter of <code>id</code>. This function will call the url
including the id (<code>http://localhost/slim-cars/api/3</code>). On AJAX success, we will also set the
currentCar (we will be adding shortly) in order for our application to tell
which car is currently in our 'detail view' (form area).</p>
<p>Our application needs a way for us to view one car at a time in a kind of 'detail view'. This
detail view will be using the form to display the current car.</p>
<p>Let's initialize a <code>currentCar</code> variable just below our <code>rootURL</code> variable:</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">var</span> currentCar<span class="token punctuation">;</span></span></code></pre>
<p>Now, we need a way for our form to render a car's details when a car is selected from the sidebar.
Add this line just below the <code>findAll()</code> function</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Retrieve car details when list item is clicked</span></span><br><span class="highlight-line"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#car-list a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">live</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token function">findById</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">'identity'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>Finally, we add a <code>renderDetails()</code> function which takes a car as an input. This function then
populates our form with the car data. (This also fixes whether we have an empty object and
blanks out the form).</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Render detail view</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">renderDetails</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token keyword">if</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#year'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#make'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#model'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#year'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#make'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>make<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#model'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Now if you view your application, you will see if you click on one of your car items,
the form fields should populate with the data.</p>
<h3>6. Adding a new car</h3>
<p>First, we need to have our form clear out once the 'New Car' button is clicked. Add this just
above your <code>findAll()</code> function.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Call new car function when button is clicked</span></span><br><span class="highlight-line"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnAdd'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token function">newCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token comment">// Hide delete button and empty out form</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">newCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnDelete'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	currentCar <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token function">renderDetails</span><span class="token punctuation">(</span>currentCar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Display empty form</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Next, we need to get the form data from the HTML form in order to URL encode this data
and place it in our request. Place this just below the <code>renderDetails()</code> function.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Helper function to get form fields</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">getForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token keyword">var</span> car <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token string">'year'</span><span class="token punctuation">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#year'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		<span class="token string">'make'</span><span class="token punctuation">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#make'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		<span class="token string">'model'</span><span class="token punctuation">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#model'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token keyword">return</span> car<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>In order to add a car, we will be using Zepto's <code>$.ajax</code> method, but instead of using <code>GET</code> we will use <code>POST</code> as a parameter.
This tells Zepto to use HTTP POST method. Add the <code>addCar()</code> function just below <code>findById()</code></p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Add new car</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">addCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'addCar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		type<span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		url<span class="token punctuation">:</span> rootURL <span class="token operator">+</span> <span class="token string">'car'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		dataType<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		data<span class="token punctuation">:</span> $<span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token function">getForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// URI encode data for request</span></span><br><span class="highlight-line">		success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Car added successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnDelete'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// reload list</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		error<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">,</span> errorThrown<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> errorThrown<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>What happens here is the function sends a HTTP POST request to our API ('http://localhost/slim-cars/api/car') and
URI encodes our form field values so that our API can understand them. Then on success, the browser
alerts us that a car was successfully added. In addition, we show the delete button (it was never hidden anyway, but
we'll get to that later), adds the id value to our form's id hidden field, and reload's our car list
to display our newly added car using our <code>findAll()</code> function.</p>
<p>Now, we need to be able to send the POST request from the front end. Tie this function to your <code>#btnSave</code> button.
Add this just below <code>$('#btnAdd').click(function() {...</code>.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Call add car function when save button is clicked</span></span><br><span class="highlight-line"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnSave'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token function">addCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		<span class="token function">updateCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span></span><br><span class="highlight-line">	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>Now you can try adding a car by filling in the form and clicking the 'Save' button.
Note that we haven't added the <code>updateCar()</code> method yet...but don't worry it's next.</p>
<h3>7. Update a car</h3>
<p>Now we need a way to update a car currently in the database. We will be using HTTP PUT
method in order to update from our API. Just below your <code>addCar()</code> function add:</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Update a car</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">updateCar</span><span class="token punctuation">(</span>$id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updateCar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		type<span class="token punctuation">:</span> <span class="token string">'PUT'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		url<span class="token punctuation">:</span> rootURL <span class="token operator">+</span> <span class="token string">'car/'</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		dataType<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		data<span class="token punctuation">:</span> $<span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token function">getForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// URI encode data for request</span></span><br><span class="highlight-line">		success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Car successfully updated'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// reload list</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		error<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">,</span> errorThrown<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> errorThrown<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Similar to the <code>addCar()</code> function, we are URI encoding our form data so our API can
understand what to do. The function uses our form field 'id' value in order to build
our URL in which to send the PUT request. For instance, the request sent to
'http://localhost/slim-cars/api/car/3' tells the API to update car with an id of 3.
After the update is successful, the browser alerts that the car was updated successfully and
then reloads the car list.</p>
<p>We've already tied the <code>updateCar()</code> function to our 'Save' button so try selecting a car
and clicking the 'Save' button. Your car should now be updated in the database.</p>
<h3>8. Delete a car</h3>
<p>Now we need to be able to delete a car. Since no car is in the detail view
when the application loads, let's hide the delete file on inital load. Add
this just below <code>findAll()</code>.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Nothing to delete in initial application state</span></span><br><span class="highlight-line"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnDelete'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>Now we will use the HTTP DELETE method to delete a car by a specified id. Add
this just below the <code>addCar()</code> function.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Delete a car</span></span><br><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">deleteCar</span><span class="token punctuation">(</span>$id<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'deleteCar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">		type<span class="token punctuation">:</span> <span class="token string">'DELETE'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		url<span class="token punctuation">:</span> rootURL <span class="token operator">+</span> <span class="token string">'car/'</span> <span class="token operator">+</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Car successfully deleted'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">			<span class="token function">newCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zero out the form</span></span><br><span class="highlight-line">			<span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// reload list</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">		error<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> textStatus<span class="token punctuation">,</span> errorThrown<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">,</span> type<span class="token punctuation">,</span> errorThrown<span class="token punctuation">,</span> textStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">		<span class="token punctuation">}</span></span><br><span class="highlight-line">	<span class="token punctuation">}</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Similar to the other ajax functions, we generate a URL using the current form field id ('http://localhost/slim-cars/api/car/3').
Then, the function calls the HTTP DELETE method. On success, the browser alerts that the car was successfully deleted, blanks out the
form using our <code>newCar()</code> method and reloads the car list using our <code>findAll()</code> method.</p>
<p>Now just tie this function into the frontend using our <code>#btnDelete</code> button. Add this just below <code>$('#btnAdd').click(function() {...</code></p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token comment">// Call delete car function when button is clicked</span></span><br><span class="highlight-line"><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnDelete'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">	<span class="token function">deleteCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<h3>9. Conclusion</h3>
<p>Now if you visit you app, you should be able to add, delete, update and view your cars in your database. You
can get a GIT staged step by step version of this post <a href="https://github.com/cdmedia/slim-cars-frontend">here on
Github</a>.</p>
<p><img src="https://raw.githubusercontent.com/codoki/codoki.github.io/master/public/img/tuts/slim-frontend-api.png" alt="Slim DemoFrontend"></p>


      <a href="/"> Home</a><br>
      <p style="text-align:right">
        <a class="edit-link" href="https://github.com/chrisdiana/chrisdiana.github.io/tree/develop/./src/posts/2015-03-20-getting-started-with-slim-framework-pt-2.md">Edit this page on GitHub</a>
      </p>
    </section>

    <footer class="post-footer"></footer>
    <div id="disqus_thread"></div>
  </div>
</article>

<script>
  var disqus_config = function () {
    //this.page.url = document.location.href;
    this.page.identifier = document.location.pathname.replace('/posts/', '').replace('/', '');
  };
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://cdianamedia.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    </main>

    <div class="footer">
      <div class="email-signup">
        <hr>
        <div class="social-links-footer">
          <a target="_blank" title="Github" href="//github.com/chrisdiana"><i class="fa fa-github"></i></a>
          <a target="_blank" title="Stack Overflow" href="//stackoverflow.com/users/1073821/chris-diana"><i class="fa fa-stack-overflow"></i></a>
          <a target="_blank" title="Dribbble" href="//dribbble.com/chrisdiana"><i class="fa fa-dribbble"></i></a>
          <a target="_blank" title="LinkedIn" href="//www.linkedin.com/in/chris-diana"><i class="fa fa-linkedin"></i></a>
        </div>
        <div class="email-signup-header">Sign up for updates on the latest articles, resources, tutorials and more.</div>
        <form action="https://saturnbit.us10.list-manage.com/subscribe/post?u=6a958cda028d0d312d1ef3ccd&amp;id=02b3438a51" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <input type="email" value="" placeholder="Email Address" name="EMAIL" class="required email email-signup-input" id="mce-EMAIL">
          <div id="mce-responses" class="clear">
            <div class="response" id="mce-error-response" style="display:none"></div>
            <div class="response" id="mce-success-response" style="display:none"></div>
          </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_6a958cda028d0d312d1ef3ccd_02b3438a51" tabindex="-1" value=""></div>
          <button type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button email-signup-button">Signup</button>
        </form>
      </div>
    </div>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-127054989-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-127054989-1');
    </script>
    <script src="/assets/js/script.js"></script>
  </body>
</html>
